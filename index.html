<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Narnia â€“ Nazâ€™Ä±n Yolu</title>
<style>
body {
  margin: 0;
  background: linear-gradient(#0b1d3a, #1e3c72);
  font-family: Arial, sans-serif;
  overflow: hidden;
  color: white;
}

#game {
  position: relative;
  width: 100vw;
  height: 100vh;
}

.platform {
  position: absolute;
  width: 80px;
  height: 20px;
  background: #bfe9ff;
  border-radius: 10px;
}

#player {
  position: absolute;
  font-size: 40px;
  left: 50px;
  bottom: 100px;
}

#emre {
  position: absolute;
  font-size: 40px;
  right: 20px;
  bottom: 80px;
}

#hud {
  position: absolute;
  top: 10px;
  left: 10px;
  font-size: 20px;
}
</style>
</head>
<body>

<div id="game">
  <div id="hud">â¤ï¸â¤ï¸â¤ï¸</div>
  <div id="player">ğŸ‘§</div>
  <div id="emre">ğŸ§â€â™‚ï¸ğŸ’™</div>
</div>

<audio id="iceSound" src="https://www.soundjay.com/nature/ice-crack-01.mp3"></audio>
<audio id="bgSound" src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Joshua_Eskridge/Joshua_Eskridge_-_Epilogue.mp3" loop></audio>

<script>
const player = document.getElementById("player");
const hud = document.getElementById("hud");
const iceSound = document.getElementById("iceSound");
const bgSound = document.getElementById("bgSound");

let x = 50;
let y = 100;
let lives = 3;
let falling = false;

bgSound.volume = 0.4;
document.body.addEventListener("click", () => bgSound.play(), { once:true });

document.addEventListener("keydown", e => {
  if (falling) return;

  if (e.key === "ArrowRight") {
    x += 40;
  }
  if (e.key === "ArrowLeft") {
    x -= 40;
  }

  // yanlÄ±ÅŸ zamanda durma â†’ dÃ¼ÅŸme
  if (Math.random() < 0.25) {
    fall();
  }

  player.style.left = x + "px";
});

function fall() {
  falling = true;
  iceSound.play();
  let fallInterval = setInterval(() => {
    y -= 10;
    player.style.bottom = y + "px";
    if (y < -50) {
      clearInterval(fallInterval);
      loseLife();
    }
  }, 30);
}

function loseLife() {
  lives--;
  updateHud();

  if (lives > 0) {
    // Emre'den kalp gelsin
    hud.innerHTML += " ğŸ’™â¡ï¸â¤ï¸";
    setTimeout(resetPlayer, 1000);
  } else {
    alert("â„ï¸ Naz dÃ¼ÅŸtÃ¼ ama Emre hep yanÄ±nda ğŸ’™");
  }
}

function resetPlayer() {
  x = 50;
  y = 100;
  player.style.left = x + "px";
  player.style.bottom = y + "px";
  falling = false;
}

function updateHud() {
  hud.innerHTML = "â¤ï¸".repeat(lives);
}

// kazanma
setInterval(() => {
  if (x > window.innerWidth - 200) {
    alert("ğŸ‰ Naz buzlarÄ± geÃ§ti! Narnia kazandÄ± ğŸ’™");
    location.reload();
  }
}, 500);
</script
